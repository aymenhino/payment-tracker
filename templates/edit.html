{% extends "base.html" %}
{% block content %}

<div class="bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6 max-w-xl mx-auto">
  <h2 class="text-xl font-bold mb-4">✏️ Edit Payment</h2>
  <form method="POST" enctype="multipart/form-data" class="space-y-4">
    <div>
      <label class="block mb-1">Amount (₪)</label>
      <input type="number" step="0.01" name="amount" value="{{ payment.amount }}" required
             class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700">
    </div>
    <div>
      <label class="block mb-1">Recipient</label>
      <input type="text" name="recipient" value="{{ payment.recipient }}" required
             class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700">
    </div>
    <div>
      <label class="block mb-1">Date</label>
      <input type="date" name="date" value="{{ payment.date }}" required
             class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700">
    </div>
    <div>
      <label class="block mb-1">Notes</label>
      <textarea name="notes" class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700">{{ payment.notes }}</textarea>
    </div>
    <div>
      <label class="block mb-1">Upload New Receipt</label>
      <input type="file" name="receipt" accept="image/*,application/pdf"
             class="w-full px-3 py-2 border rounded-lg bg-gray-50 dark:bg-gray-700">
      {% if payment.receipt %}
        <p class="mt-2 text-sm">Current: <a href="{{ url_for('uploaded_file', filename=payment.receipt) }}" target="_blank" class="text-blue-600 hover:underline">📎 View</a></p>
      {% endif %}
    </div>
    <button type="submit"
            class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 rounded-lg transition">
      💾 Save Changes
    </button>
  </form>
</div>

{% endblock %}
